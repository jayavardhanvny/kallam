<?xml version="1.0"?>
  <database name="VIEW RCHR_EMP_LEAVEBALANCE">
    <view name="RCHR_EMP_LEAVEBALANCE"><![CDATA[SELECT h.rchr_leavetype_id AS rchr_emp_leavebalance_id, sum(h.leavecount) AS leavebalance, h.rchr_leavetype_id, h.rchr_employee_id, (SELECT e.ad_org_id FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS ad_org_id, (SELECT e.ad_client_id FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS ad_client_id, (SELECT e.isactive FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS isactive, (SELECT e.created FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS created, (SELECT e.createdby FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS createdby, (SELECT e.updated FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS updated, (SELECT e.updatedby FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS updatedby FROM rchr_leavebalancehistory h GROUP BY h.rchr_leavetype_id, h.rchr_employee_id UNION SELECT h.rchr_leavetype_id AS rchr_emp_leavebalance_id, count(h.rchr_compensateoff_id) AS leavebalance, h.rchr_leavetype_id, h.rchr_employee_id, (SELECT e.ad_org_id FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS ad_org_id, (SELECT e.ad_client_id FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS ad_client_id, (SELECT e.isactive FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS isactive, (SELECT e.created FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS created, (SELECT e.createdby FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS createdby, (SELECT e.updated FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS updated, (SELECT e.updatedby FROM rchr_employee e WHERE e.rchr_employee_id = h.rchr_employee_id) AS updatedby FROM rchr_compensateoff h WHERE h.status = 'ACC' GROUP BY h.rchr_leavetype_id, h.rchr_employee_id]]></view>
  </database>
